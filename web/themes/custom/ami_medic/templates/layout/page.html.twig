{#
/**
 * @file
 * Theme override to display a single page.
 *
 * The doctype, html, head and body tags are not in this template. Instead they
 * can be found in the html.html.twig template in this directory.
 *
 * Available variables:
 *
 * General utility variables:
 * - base_path: The base URL path of the Drupal installation. Will usually be
 *   "/" unless you have installed Drupal in a sub-directory.
 * - is_front: A flag indicating if the current page is the front page.
 * - logged_in: A flag indicating if the user is registered and signed in.
 * - is_admin: A flag indicating if the user has permission to access
 *   administration pages.
 *
 * Regions:
 * - page.header: Items for the header region.
 * - page.primary_menu: Items for the primary menu region.
 * - page.secondary_menu: Items for the secondary menu region.
 * - page.breadcrumb: Items for the breadcrumb region.
 * - page.highlighted: Items for the highlighted content region.
 * - page.help: Dynamic help text, mostly for admin pages.
 * - page.content: The main content of the current page.
 * - page.sidebar_first: Items for the first sidebar.
 * - page.sidebar_second: Items for the second sidebar.
 * - page.footer: Items for the footer region.
 *
 * @see template_preprocess_page()
 * @see html.html.twig
 */
#}
<div id="page-wrapper" class="flex flex-col min-h-screen">
  
  {# Preloader #}
  <div class="fixed size-full left-0 top-0 z-9999999 flex items-center justify-center bg-white" id="dzPreloader">
    <div class="preloader-inner">
      <svg class="size-22.5" width="240" height="240" viewBox="0 0 240 240">
        <circle class="stroke-primary animate-dzRing1" cx="120" cy="120" r="105" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 660" stroke-dashoffset="-330" stroke-linecap="round"></circle>
        <circle class="stroke-secondary animate-dzRing2" cx="120" cy="120" r="35" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 220" stroke-dashoffset="-110" stroke-linecap="round"></circle>
        <circle class="stroke-[#255ff4] animate-dzRing3" cx="85" cy="120" r="70" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 440" stroke-linecap="round"></circle>
        <circle class="stroke-[#f42582] animate-dzRing4" cx="155" cy="120" r="70" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 440" stroke-linecap="round"></circle>
      </svg>
    </div>
  </div>

  {# Header Region #}
  <header id="headerWrapper1" class="site-header fixed left-0 max-2xl:!top-0 z-999 w-full transition-all duration-300">
     {% if page.header %}
        {{ page.header }}
     {% endif %}
     {# Placeholder for logo and basic menus if blocks are not configured yet #}
     <div class="main-bar bg-secondary lg:text-white text-secondary w-full">
        <div class="container-fluid flex items-center relative">
            <div class="flex items-center align-middle xl:w-41.25 w-33.75 sm:h-20 h-15.25 max-xl:me-2 logo-dark">
                <a href="{{ front_page }}" title="{{ 'Home'|t }}" rel="home" class="table-cell align-middle">
                  <img loading="lazy" src="/themes/custom/ami_medic/assets/images/logo-white.svg" alt="logo" class="object-contain">
                </a>
            </div>
            
            {# Primary Menu Region #}
             {% if page.primary_menu %}
                <div class="flex lg:basis-auto lg:grow max-lg:flex-col lg:justify-end font-title max-lg:fixed max-lg:h-full max-lg:px-5 max-lg:top-0 max-lg:-left-75 max-lg:z-9999 max-lg:bg-white max-lg:w-72 max-lg:overflow-auto max-lg:duration-700 header-nav custom-scroll">
                    {{ page.primary_menu }}
                </div>
             {% endif %}
        </div>
     </div>
  </header>

  {# Messages and Help #}
  {% if page.highlighted %}
    <div class="container mx-auto mt-24">
      {{ page.highlighted }}
    </div>
  {% endif %}
  
  {% if page.help %}
    <div class="container mx-auto">
      {{ page.help }}
    </div>
  {% endif %}

  {# Main Content #}
  <main class="page-content 2xxl:pt-46 lg:pt-21.5 sm:pt-20 pt-19.5 flex-grow">
    <a id="main-content" tabindex="-1"></a>
    
    {% if page.sidebar_first %}
      <aside class="sidebar-first">
        {{ page.sidebar_first }}
      </aside>
    {% endif %}

    <div class="content-region">
      {{ page.content }}
    </div>

    {% if page.sidebar_second %}
      <aside class="sidebar-second">
        {{ page.sidebar_second }}
      </aside>
    {% endif %}
  </main>

  {# Footer #}
  {% if page.footer %}
    <footer class="site-footer bg-secondary text-white relative">
      <div class="container">
        {{ page.footer }}
      </div>
    </footer>
  {% else %}
     {# Default footer if no blocks #}
    <footer class="site-footer bg-secondary text-white relative py-10">
        <div class="container text-center">
            <p>&copy; {{ 'now'|date('Y') }} AMI. All rights reserved.</p>
        </div>
    </footer>
  {% endif %}

</div>
